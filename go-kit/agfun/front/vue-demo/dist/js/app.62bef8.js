webpackJsonp([0,1],[function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var a=o(7),i=n(a);o(151),o(152);var s=o(42),r=n(s);o(109);var u=o(115),l=n(u),c=o(302),f=n(c),d=o(22),p=n(d);p["default"].checkLogin().then(function(t){t&&!function(){var e=f["default"].data;f["default"].data=function(){return(0,i["default"])({},e(),{userData:t})}}(),l["default"].start(f["default"],"#app")}),console.info("[当前环境] 生产环境"),r["default"].config.devtools=!1},,,,function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(7),i=n(a),s=o(49),r=n(s),u=o(50),l=n(u),c=o(45),f=n(c),d=function(){function t(){(0,r["default"])(this,t)}return(0,l["default"])(t,[{key:"fetchList",value:function(t){return(0,f["default"])({url:"/msg",body:t})}},{key:"fetchAuthorList",value:function(){return(0,f["default"])({url:"/msg/authors"})}},{key:"fetchById",value:function(t){return(0,f["default"])({url:"/msg/"+t})}},{key:"add",value:function(t){return(0,f["default"])({method:"post",url:"/msg",body:t})}},{key:"update",value:function(t){t=(0,i["default"])({},t);var e=t.id;return delete t.msgId,(0,f["default"])({method:"put",url:"/msg/"+e,body:t})}},{key:"del",value:function(t){return(0,f["default"])({method:"delete",url:"/msg/"+t})}}]),t}();e["default"]=new d},,,,,,,,,,,,,,,function(t,e,o){(function(e){var n=o(262),a="db.json",i=o(320);a=i.join(e,a);var s=n(a);s.defaults({msgs:[],session:null}).value(),t.exports=s}).call(e,"/")},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(122),i=n(a),s=o(121),r=n(s),u=o(44),l=n(u),c=o(250),f=n(c);e["default"]={mixins:[l["default"]],data:function(){return{specialFields_:[]}},watch:{"$route.query":function(t,e){var o=(0,f["default"])((0,r["default"])(e),(0,r["default"])(t));this.autoSyncWithQuery(o)}},methods:{_init:function(){var t=[];for(var e in this.$data)if(e.endsWith("$")){var o=e.replace(/\$$/,"");t.push(o),this._cache(e),this._watch(e,o)}this.specialFields_=t},_cache:function(t){this.$data[t+"$"]=this[t]},_restore:function(t){this[t]=this.$data[t+"$"]},_watch:function(t,e){this.$watch(t,function(t){this.updateQuery((0,i["default"])({},e,t))})},autoSyncWithQuery:function(t){var e=this;t||this._init();var o=this.$route.query;this.specialFields_.forEach(function(n){var a=n+"$";o[n]&&(e[a]=o[n]),t&&t.includes(n)&&e._restore(a)})}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(7),i=n(a),s=o(117),r=n(s),u=o(116),l=n(u);e["default"]=(0,i["default"])({"*":{component:{init:function(){window.swal({type:"warning",title:"404 NOT FOUND",timer:2e3,showConfirmButton:!1}),history.back()},template:"<span></span>"}},"/redirect":{component:{init:function(){this.$router.replace({path:decodeURIComponent(this.$route.query.dest||"/"),force:!0})},template:"<span></span>"}},"/":{title:"首页",icon:"fa fa-home",showInNavbar:{exact:!0},showInSidebar:!0,component:function(t){o.e(0,function(e){var o=[e(312)];t.apply(null,o)}.bind(this))}}},r["default"],l["default"])},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(49),i=n(a),s=o(50),r=n(s),u=o(45),l=n(u),c=function(){function t(){(0,i["default"])(this,t)}return(0,r["default"])(t,[{key:"checkLogin",value:function(){return(0,l["default"])({url:"/auth/checkLogin"})}},{key:"login",value:function(t){return(0,l["default"])({method:"post",url:"/auth/login",body:t})}},{key:"logout",value:function(){return(0,l["default"])({method:"delete",url:"/auth/logout"})}}]),t}();e["default"]=new c},,,,,,,,,,,,,,,,,,,function(t,e,o){var n,a;n=o(103),a=o(296),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},,,function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(119),i=n(a);e["default"]={methods:{updateQuery:function(t){this.$router.go((0,i["default"])(this.$route.path,t))}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(118)["default"];n=o(83),e["default"]=n},function(t,e){"use strict";function o(t){return t?t.split("?")[0]:""}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(4),i=n(a);e["default"]={route:{activate:function(t){var e=this,o=t.next;i["default"].fetchById(this.$route.params.msgId).then(function(t){e.msg=t,e.$emit("MSG_LOADED"),o()})}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,o){var n,a;o(160),n=o(102),a=o(295),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},,function(t,e,o){window._=o(255);var n=o(271),a=o(78),i=o(90),s=o(87),r=o(89),u=o(88),l=n();l.use(r),l.use(u),l.use(i),l.use(s);var c=function(t){console.group("Mock Server");var e=(t.method||"GET").toUpperCase(),o=t.body,n=t.url,i=n.split("?"),s=i[0],r=a.parse(i[1]);if("GET"===e&&o){Object.assign(r,o);var u=a.stringify(r);n=u?s+"?"+u:n}return new Promise(function(t){l.receive({method:e,url:n,body:o||{}}).respond(function(e){return"string"==typeof e&&(e=JSON.parse(e)),e.success?(t(e.data),void console.groupEnd("Mock Server")):alert(e.errMsg)})})};t.exports=c},function(t,e,o){var n=o(19);e.checkLogin=function(t,e){e.ajaxReturn(n.get("session").value())},e.login=function(t,e){var o=(t.body.username||"").trim();if(!o)return e.ajaxReturn(!1,{errMsg:"username 字段为空"});var a={username:o};n.set("session",a).value(),e.ajaxReturn(a)},e.logout=function(t,e){n.set("session",null).value(),e.ajaxReturn()}},function(t,e,o){var n=o(282),a=o(19);e.getList=function(t,e){var o=t.query.authors,n=~~t.query.offset||0,i=~~t.query.limit||5,s=a.get("msgs");o&&(o=o.split(","),s=s.filter(function(t){return-1!==o.indexOf(t.author)})),e.ajaxReturn({total:s.size().value(),rows:s.orderBy("ctime","desc").slice(n,n+i).value()})},e.add=function(t,e){return t.body.title&&t.body.content?(t.body.id=n().substr(0,8),t.body.author=a.get("session.username").value(),t.body.ctime=Date.now(),void e.ajaxReturn(a.get("msgs").push(t.body).last().value())):e.ajaxReturn(!1,{errMsg:"title 或 content 字段为空"})},e.authors=function(t,e){e.ajaxReturn(a.get("msgs").map("author").uniq().value())},e.getById=function(t,e){var o=a.get("msgs").find({id:t.params.msgId}).value();return o?e.ajaxReturn(o):void e.ajaxReturn(!1,{errMsg:"不存在该留言信息"})},e.update=function(t,e){delete t.body.id,delete t.body.author,t.body.ctime=Date.now();var o=a.get("msgs").find({id:t.params.msgId,author:a.get("session.username").value()});return o.isEmpty().value()?e.ajaxReturn(!1,{errMsg:"修改失败"}):void e.ajaxReturn(o.assign(t.body).value())},e.remove=function(t,e){var o=a.get("msgs").remove({id:t.params.msgId,author:a.get("session.username").value()}).value()[0];return o?e.ajaxReturn(o):void e.ajaxReturn(!1,{errMsg:"删除失败"})}},function(t,e,o){function n(t,e){return function(o,n,i){!a.get("session").isEmpty().value()===t?i():n.ajaxReturn(!1,{errMsg:e})}}var a=o(19);t.exports={NEED_AUTH:n(!0,"您需要登录后才能进行该操作"),FORBID_AUTHED:n(!1,"您已经登录，禁止当前操作")}},function(t,e){t.exports=function(t,e){e.ajaxReturn(!1,{errMsg:"404 NOT FOUND"})}},function(t,e){t.exports=function(t,e,o){e.ajaxReturn=function(t,o){e.json(Object.assign({success:!!t||!o,errMsg:"",data:t||""},o))},o()}},function(t,e){t.exports=function(t,e,o){console.info("[Logger]",t.method,t.originalUrl),o()}},function(t,e,o){var n=o(85),a=o(84),i=o(86);t.exports=[{path:"/msg",method:"GET",handler:n.getList},{path:"/msg",method:"POST",middlewares:[i.NEED_AUTH],handler:n.add},{path:"/msg/authors",method:"GET",handler:n.authors},{path:"/msg/:msgId",method:"GET",handler:n.getById},{path:"/msg/:msgId",method:"PUT",middlewares:[i.NEED_AUTH],handler:n.update},{path:"/msg/:msgId",method:"DELETE",middlewares:[i.NEED_AUTH],handler:n.remove},{path:"/auth/checkLogin",method:"GET",handler:a.checkLogin},{path:"/auth/login",method:"POST",middlewares:[i.FORBID_AUTHED],handler:a.login},{path:"/auth/logout",method:"DELETE",middlewares:[i.NEED_AUTH],handler:a.logout}]},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(304),i=n(a),s=o(309),r=n(s),u=o(303),l=n(u);e["default"]={components:{Navbar:i["default"],Sidebar:r["default"],Breadcrumb:l["default"]},data:function(){return{userData:null}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(46),i=n(a);e["default"]={computed:{matchedRoutes:function(){return this.$route.matched.slice()}},methods:{refresh:function(){var t=(0,i["default"])(this.$route.path);this.$router.go("/redirect?dest="+t)},back:function(){history.back()}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(21),i=n(a),s=o(40),r=n(s);e["default"]={computed:{routes:function(){return(0,r["default"])(i["default"],function(t){return t.showInNavbar})}},filters:{defaultIcon:function(t){return t?t:"fa fa-link"}},attached:function(){$(this.$el).find("[data-toggle=tooltip]").tooltip({placement:"bottom"})}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(20),i=n(a);e["default"]={mixins:[i["default"]],ready:function(){this.autoSyncWithQuery()},props:{total:{type:Number,required:!0}},data:function(){return{offset$:0}},computed:{limit:function(){return+this.$route.query.limit||5},isFirstPage:function(){return 0===+this.offset$||this.limit>=this.total},isLastPage:function(){return+this.offset$+this.limit>=this.total},totalPageIdx:function(){return Math.ceil(this.total/this.limit)-1},curPageIdx:function(){return Math.ceil(+this.offset$/this.limit)},displayPageBtns:function(){var t=this.totalPageIdx+1,e=this.curPageIdx+1;return 7>=t?function(t){for(var e=[];t;)e.unshift(t--);return e}(t):3>=e||3>t-e?[1,2,3,0,t-2,t-1,t]:4===e?[1,2,3,4,0,t-1,t]:e===t-3?[1,2,0,e,t-2,t-1,t]:[1,0,e-1,e,e+1,0,t]}},methods:{handleClick:function(t){this.offset$=(t-1)*this.limit},turnPage:function(t){0>t&&this.isFirstPage||t>0&&this.isLastPage||(this.offset$=+this.offset$+t*this.limit)}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(20),i=n(a);e["default"]={mixins:[i["default"]],data:function(){return{limit$:5}},ready:function(){this.autoSyncWithQuery()}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(7),i=n(a);e["default"]={props:{model:{twoWay:!0,"default":function(){return[]}},models:{twoWay:!0,"default":""},options:{type:Array,required:!0},valueField:{type:String,"default":"value"},textField:{type:String,"default":"text"},config:{type:Object,"default":function(){return{}}}},computed:{conf:function(){return(0,i["default"])({allowClear:!0},this.config)}},attached:function(){this.init()},watch:{options:function(){this.init()},model:function(t){this.init(),this.syncModelsWithModel()},models:function(t){this.syncModelWithModels()}},methods:{init:function(){var t=this;this.$nextTick(function(){var e=$(t.$el);e.select2(t.conf),e.on("change",function(){return t.model=e.val()})})},syncModelsWithModel:function(){this.config.multiple&&(this.models=(this.model||[]).join(","))},syncModelWithModels:function(){this.config.multiple&&(this.model=this.models.split(","))}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{path:{type:String,required:!0},title:{type:String,required:!0},icon:{type:String,"default":"fa fa-link"},isExact:{type:Boolean,"default":!1}},computed:{curMatchedRoute:function(){var t=this.$route.matched;return t[t.length-1]},curMatchedPath:function(){return this.curMatchedRoute.handler.fullPath},isDynamicPath:function(){return this.path.includes(":")},vlinkContent:function(){return this.isDynamicPath?void 0:{path:this.path,exact:this.isExact}}},attached:function(){this.isDynamicPath&&$(this.$el).on("click",function(){return $.toast({heading:"动态路由不可直接点击访问",icon:"info",stack:!1})})}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(308),i=n(a),s=o(21),r=n(s),u=o(40),l=n(u);e["default"]={components:{Link:i["default"]},computed:{routes:function(){return(0,l["default"])(r["default"],function(t){return t.showInSidebar})}},watch:{"$route.path":function(){this.expand()}},attached:function(){this.expand()},methods:{expand:function(){$(this.$el).find("a.matched-route").parents("div.collapse").collapse("show")}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(22),i=n(a);e["default"]={data:function(){return{username:""}},methods:{handleSubmit:function(){var t=this,e=$.trim(this.username);return e?void i["default"].login({username:e}).then(function(e){t.$root.userData=e;var o=t.$route.query.referrer;o=o?decodeURIComponent(o):"/",t.$router.replace({path:o,force:!0})}):$.toast({heading:"用户名为空",icon:"warning",stack:!1})}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(22),i=n(a);e["default"]={init:function(){var t=this;i["default"].logout().then(function(){t.$root.userData=null,t.$router.replace("/auth/login")})}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(307),i=n(a),s=o(20),r=n(s),u=o(4),l=n(u);e["default"]={mixins:[r["default"]],components:{Select2:i["default"]},data:function(){return{authors$:"",authorList:[]}},computed:{opts:function(){return this.authorList.map(function(t){return{value:t,text:t}})}},attached:function(){$(this.$els.addon).tooltip()},ready:function(){return this.autoSyncWithQuery(),l["default"].authorList?this.authorList=l["default"].authorList:void this.loadOptions()},methods:{loadOptions:function(t){var e=this;l["default"].fetchAuthorList().then(function(o){e.authorList=l["default"].authorList=o,t&&$.toast({heading:"已刷新",icon:"success",stack:!1})})}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{msg:{type:Object,required:!0,twoWay:!0}},computed:{allowToSubmit:function(){var t=this.msg,e=t.title,o=t.content;return e&&o}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(4),i=n(a);e["default"]={props:{msg:{type:Object,required:!0},autoJump:{type:Boolean,"default":!1},editBtn:{type:Boolean,"default":!0}},computed:{shouldShowOptBtn:function(){var t=this.$root.userData;if(t)return t.username===this.msg.author}},methods:{handleDel:function(){var t=this;window.swal({title:"确认删除？",text:"删除后不可恢复",type:"warning",showCancelButton:!0,cancelButtonText:"取消",confirmButtonColor:"#DD6B55",confirmButtonText:"删除"},function(e){if(e){var o=t.msg.id;i["default"].del(o).then(function(){$.toast({heading:"删除成功",icon:"success"}),t.autoJump?t.$router.replace("/msg"):t.$dispatch("REFETCH_LIST")})}})}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(81),i=n(a),s=o(4),r=n(s);e["default"]={components:{MsgForm:i["default"]},data:function(){return{msg:{title:"",content:""}}},methods:{handleSubmit:function(){var t=this;r["default"].add(this.msg).then(function(e){var o=e.id;$.toast({heading:"发布成功",text:"已自动跳转到详情页",icon:"success"}),t.$router.replace("/msg/detail/"+o)})}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(41),i=n(a),s=o(47),r=n(s);e["default"]={mixins:[r["default"]],components:{OptBtnGroup:i["default"]},data:function(){return{msg:{}}},computed:{isMine:function(){var t=this.msg.author,e=this.$root.userData;return t&&e?t===e.username:void 0}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(305),i=n(a),s=o(306),r=n(s),u=o(313),l=n(u),c=o(41),f=n(c),d=o(44),p=n(d),h=o(4),v=n(h);e["default"]={mixins:[p["default"]],components:{Pagination:i["default"],LimitSelect:r["default"],AuthorSelect:l["default"],OptBtnGroup:f["default"]},data:function(){return{total:0,msgs:[]}},route:{data:function(){var t=this;v["default"].fetchList(this.$route.query).then(function(e){var o=e.total,n=e.rows;t.total=o,t.msgs=n})}},filters:{cutLongText:function(t){var e=arguments.length<=1||void 0===arguments[1]?10:arguments[1];return t.length>e?t.substr(0,e)+"···":t}},events:{REFETCH_LIST:function(){this.updateQuery({_:Date.now()})}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(81),i=n(a),s=o(41),r=n(s),u=o(4),l=n(u),c=o(47),f=n(c);e["default"]={mixins:[f["default"]],components:{MsgForm:i["default"],OptBtnGroup:r["default"]},data:function(){return{msg:{}}},methods:{handleSubmit:function(){var t=this;l["default"].update(this.msg).then(function(e){var o=e.id;$.toast({heading:"更新成功",text:"已自动跳转到详情页",icon:"success"}),t.$router.replace("/msg/detail/"+o)})}},events:{MSG_LOADED:function(){this.msg.author!==this.$root.userData.username&&($.toast({heading:"非法访问",icon:"error"}),this.$router.replace("/msg"))}}}},function(t,e){"use strict";function o(t){var e=arguments.length<=1||void 0===arguments[1]?"YYYY-MM-DD HH:mm:ss":arguments[1];return window.moment(t).format(e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var a=o(42),i=n(a);i["default"].filter("dateTimeFormatter",o(108)["default"])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){var e=t.to.matched,o=[];e.slice().forEach(function(t){var e=t.handler.title;e&&o.push(e)}),document.title=o.join(" · ")};e["default"]=o},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(46),i=n(a),s=function(t){var e=t.to,o=t.from;(0,i["default"])(e.path)!==(0,i["default"])(o.path)&&$.scrollTo("#navbar",500)};e["default"]=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){var e=t.to,o=t.from,n=decodeURIComponent;console.info("[路由日志] "+n(o.path||"")+" => "+n(e.path))};e["default"]=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return function(e){var o=e.to,n=e.redirect,a=e.abort,i=e.next,s=t.app.userData,r=o.needAuth,u=o.forbidAuthed,l=o.path;return r&&!s?($.toast({heading:"访问该页面需要登录权限",text:"登录成功后将会自动跳转",icon:"info",stack:!1}),n({path:"/auth/login?referrer="+encodeURIComponent(l),force:!0})):u&&s?($.toast({heading:"您已登录，禁止访问该页面",text:"已中断跳转",icon:"warning",stack:!1}),a()):void i()}};e["default"]=o},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(113),i=n(a),s=o(110),r=n(s),u=o(111),l=n(u),c=o(112);n(c);e["default"]=function(t){t.beforeEach((0,i["default"])(t)),t.afterEach(l["default"]),t.afterEach(r["default"])}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(42),i=n(a),s=o(319),r=n(s),u=o(21),l=n(u),c=o(114),f=n(c);i["default"].use(r["default"]);var d=new r["default"]({suppressTransitionError:!0});d.map(l["default"]),d.alias({"/msg":"/msg/list"}),(0,f["default"])(d),e["default"]=d},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={"/auth/login":{title:"用户登录",icon:"fa fa-sign-in",component:function(t){o.e(0,function(e){var o=[e(310)];t.apply(null,o)}.bind(this))},forbidAuthed:!0},"/auth/logout":{title:"注销登录",icon:"fa fa-sign-out",component:function(t){o.e(0,function(e){var o=[e(311)];t.apply(null,o)}.bind(this))},needAuth:!0}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={"/msg":{title:"留言板",icon:"fa fa-commenting-o",showInNavbar:!0,showInSidebar:!0,component:function(t){o.e(0,function(e){var o=[e(316)];t.apply(null,o)}.bind(this))},subRoutes:{"/list":{title:"列表",icon:"fa fa-list",component:function(t){o.e(0,function(e){var o=[e(317)];t.apply(null,o)}.bind(this))}},"/detail/:msgId":{title:"详情",icon:"fa fa-search-plus",component:function(t){o.e(0,function(e){var o=[e(315)];t.apply(null,o)}.bind(this))}},"/add":{title:"新增",icon:"fa fa-plus",component:function(t){o.e(0,function(e){var o=[e(314)];t.apply(null,o)}.bind(this))},needAuth:!0},"/update/:msgId":{title:"修改",icon:"fa fa-eraser",component:function(t){o.e(0,function(e){var o=[e(318)];t.apply(null,o)}.bind(this))},needAuth:!0}}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="/api",n=function(t){var e=t.method,n=void 0===e?"get":e,a=t.url,i=t.body,s=void 0===i?null:i,r=$.Deferred();return $.ajax({type:n,url:o+a,data:s}).done(function(t){var e=t.success,o=t.errMsg,n=t.data;return e?void r.resolve(n):($.toast({heading:"操作失败",text:o,icon:"warning"}),r.reject(t))}).fail(function(t){$.toast({heading:"请求 API 失败",icon:"error",stack:!1}),console.warn(t)}),r.promise()};e["default"]=n},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){var o=t.split("?"),n=o[0],a=o[1],i=u["default"].stringify((0,c["default"])((0,s["default"])({},u["default"].parse(a),e),function(t){return t}),{encode:!1});return i?n+"?"+i:n}Object.defineProperty(e,"__esModule",{value:!0});var i=o(7),s=n(i);e["default"]=a;var r=o(78),u=n(r),l=o(40),c=n(l)},,function(t,e,o){t.exports={"default":o(125),__esModule:!0}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var a=o(48),i=n(a);e["default"]=function(t,e,o){return e in t?(0,i["default"])(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}},,,function(t,e,o){o(150),t.exports=o(8).Object.keys},,,,,,,,,,,,,,,function(t,e,o){var n=o(23),a=o(8),i=o(13);t.exports=function(t,e){var o=(a.Object||{})[t]||Object[t],s={};s[t]=e(o),n(n.S+n.F*i(function(){o(1)}),"Object",s)}},,,,,,,,,,function(t,e,o){var n=o(57),a=o(54);o(140)("keys",function(){return function(t){return a(n(t))}})},,function(t,e){},152,152,152,152,152,152,152,152,152,152,,,,,,,function(t,e){function o(t,e,o){switch(o.length){case 0:return t.call(e);case 1:return t.call(e,o[0]);case 2:return t.call(e,o[0],o[1]);case 3:return t.call(e,o[0],o[1],o[2])}return t.apply(e,o)}t.exports=o},function(t,e,o){function n(t,e){var o=null==t?0:t.length;return!!o&&a(t,e,0)>-1}var a=o(180);t.exports=n},function(t,e){function o(t,e,o){for(var n=-1,a=null==t?0:t.length;++n<a;)if(o(e,t[n]))return!0;return!1}t.exports=o},,,,function(t,e,o){function n(t,e,o,n){var f=-1,d=i,p=!0,h=t.length,v=[],m=e.length;if(!h)return v;o&&(e=r(e,u(o))),n?(d=s,p=!1):e.length>=c&&(d=l,p=!1,e=new a(e));t:for(;++f<h;){var g=t[f],x=null==o?g:o(g);if(g=n||0!==g?g:0,p&&x===x){for(var b=m;b--;)if(e[b]===x)continue t;v.push(g)}else d(e,x,n)||v.push(g)}return v}var a=o(58),i=o(170),s=o(171),r=o(28),u=o(62),l=o(63),c=200;t.exports=n},function(t,e){function o(t,e,o,n){for(var a=t.length,i=o+(n?1:-1);n?i--:++i<a;)if(e(t[i],i,t))return i;return-1}t.exports=o},function(t,e,o){function n(t,e,o,s,r){var u=-1,l=t.length;for(o||(o=i),r||(r=[]);++u<l;){var c=t[u];e>0&&o(c)?e>1?n(c,e-1,o,s,r):a(r,c):s||(r[r.length]=c)}return r}var a=o(29),i=o(217);t.exports=n},,,function(t,e,o){function n(t,e,o){return e===e?s(t,e,o):a(t,i,o)}var a=o(176),i=o(184),s=o(247);t.exports=n},,,,function(t,e){function o(t){return t!==t}t.exports=o},,,,,,,,,,,function(t,e,o){function n(t,e){return s(i(t,e,a),t+"")}var a=o(35),i=o(236),s=o(240);t.exports=n},,function(t,e,o){var n=o(249),a=o(64),i=o(35),s=a?function(t,e){return a(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=s},,,,,,,,,,,,,,,,,,,,function(t,e,o){function n(t){return s(t)||i(t)||!!(r&&t&&t[r])}var a=o(9),i=o(36),s=o(2),r=a?a.isConcatSpreadable:void 0;t.exports=n},,,,,,,,,,,,,,,,,,,function(t,e,o){function n(t,e,o){return e=i(void 0===e?t.length-1:e,0),function(){for(var n=arguments,s=-1,r=i(n.length-e,0),u=Array(r);++s<r;)u[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=o(u),a(t,this,l)}}var a=o(169),i=Math.max;t.exports=n},,,,function(t,e,o){var n=o(197),a=o(241),i=a(n);t.exports=i},function(t,e){function o(t){var e=0,o=0;return function(){var s=i(),r=a-(s-o);if(o=s,r>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var n=800,a=16,i=Date.now;t.exports=o},,,,,,function(t,e){function o(t,e,o){for(var n=o-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}t.exports=o},,function(t,e){function o(t){return function(){return t}}t.exports=o},function(t,e,o){var n=o(175),a=o(177),i=o(195),s=o(253),r=i(function(t,e){return s(t)?n(t,a(e,1,s,!0)):[]});t.exports=r},,,function(t,e,o){function n(t){return i(t)&&a(t)}var a=o(37),i=o(6);t.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports='<div> <navbar></navbar> <div class="row m-0 p-5"> <div class="col-md-2 col-sm-3 col-xs-12"> <sidebar></sidebar> </div> <div class="col-md-10 col-sm-9 col-xs-12"> <breadcrumb></breadcrumb> <div class="main-content p-15"> <router-view transition=fade transition-mode=out-in></router-view> </div> </div> </div> </div>'},function(t,e){t.exports='<ul class="breadcrumb clearfix"> <i class="fa fa-map-marker m-r-5"></i> <li v-for="route in matchedRoutes" :class="{ \'active\': $index === matchedRoutes.length - 1 }"> <span v-if="$index === matchedRoutes.length - 1"> {{ route.handler.title }} </span> <a v-else v-link=route.handler.fullPath> {{ route.handler.title }} </a> </li> <button @click=refresh class="btn btn-default btn-xs pull-right"> <i class="fa fa-refresh m-r-5"></i> 强制刷新 </button> <button @click=back class="btn btn-default btn-xs pull-right"> <i class="fa fa-reply m-r-5"></i> 返回 </button> </ul>'},function(t,e){t.exports='<nav class="navbar navbar-default" id=navbar> <div class=navbar-header> <a class=navbar-brand v-link="`/`"> Vue Demo </a> </div> <ul class="nav navbar-nav"> <li v-for="route in routes" v-link-active> <a v-link="{\n          path: route.fullPath,\n          exact: route.showInNavbar.exact,\n          activeClass: \'active\'\n        }"> <i class="fa-lg m-r-5" :class="route.icon | defaultIcon"></i> </a> </li> </ul> <ul class="nav navbar-nav navbar-right m-r-5"> <li data-toggle=tooltip title=Github> <a href=https://github.com/kenberkeley/vue-demo target=_blank> <i class="fa fa-github fa-lg"></i> </a> </li> <li data-toggle=tooltip title=文档> <a href=../docs/_book target=_blank> <i class="fa fa-book fa-lg"></i> </a> </li> <li v-if=$root.userData class=dropdown> <a href=javascript:; class=dropdown-toggle data-toggle=dropdown> <i class="fa fa-user-secret fa-lg m-r-5"></i> {{ $root.userData.username }} <span class=caret></span> </a> <ul class=dropdown-menu> <li><a v-link="`/auth/logout`"> <i class="fa fa-sign-out fa-lg m-r-5"></i> 注销登录 </a></li> </ul> </li> <li v-else v-link-active> <a v-link="{ path: \'/auth/login\', activeClass: \'active\' }"> <i class="fa fa-sign-in fa-lg m-r-5"></i> 登录 </a> </li> </ul> </nav>'},function(t,e){t.exports='<ul class="pagination m-t-0"> <li :class="{ \'disabled\': isFirstPage }" @click=turnPage(-1)> <a href=javascript:;> <i class="fa fa-arrow-left"></i> </a> </li> <li v-for="i in displayPageBtns" track-by=$index :class="{ \'active\': i === curPageIdx + 1 }"> <a v-if=i href=javascript:; @click=handleClick(i)> {{ i }} </a> <a v-else>···</a> </li> <li :class="{ \'disabled\': isLastPage }" @click=turnPage(1)> <a href=javascript:;> <i class="fa fa-arrow-right"></i> </a> </li> </ul>'},function(t,e){t.exports='<label> 每页显示 <select class="form-control input-sm inline-select" v-model=limit$> <option value=5>5</option> <option value=10>10</option> <option value=20>20</option> <option value=40>40</option> <option value=80>80</option> <option value=100>100</option> </select> 条</label>'},function(t,e){t.exports='<select v-model=model :multiple=conf.multiple :style="{ width: conf.width || \'100%\' }"> <option v-for="opt in options" :value=opt[valueField]> {{ opt[textField] }} </option> </select>'},function(t,e){t.exports='<a class="btn btn-default btn-block m-t-0 vlink" :class="{ \'matched-route\': path === curMatchedPath }" v-link=vlinkContent> <i :class=icon class=m-r-5></i> {{ title }} </a>'},function(t,e){t.exports='<div id=sidebar> <template v-for="route in routes"> <div v-if=route.subRoutes> <a :href="\'#panel\'+$index" class="btn btn-default btn-block" data-toggle=collapse data-parent=#sidebar> <i :class=route.icon class=m-r-5></i> {{ route.title }} <span class=caret></span> </a> <div :id="\'panel\'+$index" class="collapse w-90p m-0-auto"> <link v-for="subRoute in route.subRoutes" :path=subRoute.fullPath :title=subRoute.title :icon=subRoute.icon>  </div> </div> <link v-else :path=route.path :title=route.title :icon=route.icon :is-exact=true>  </template> </div>'},function(t,e){t.exports='<form @submit.prevent=handleSubmit class="m-0-auto m-t-100 w-60p"> <div class=form-group> <div class=input-group> <div class=input-group-addon> <i class="fa fa-user"></i> </div> <input type=text v-model=username required class=form-control placeholder=仅需输入用户名即可登录> </div> </div> <button type=submit class="btn btn-block" :class="{ \'btn-success\': username.length }" :disabled=!username.length> <i class="fa fa-sign-in m-r-5"></i> 登录 </button> </form>'},function(t,e){t.exports="<div></div>"},function(t,e){t.exports='<div class=terminal> <i class="fa fa-hashtag"></i> 欢迎使用 Vue Demo <i class="fa fa-child"></i> <br> <i class="fa fa-terminal"></i> <code>npm start</code> <i class="fa fa-cog"></i> <i class="fa fa-wrench"></i> <i class="fa fa-puzzle-piece"></i> <i class="fa fa-gavel"></i> <i class="fa fa-coffee"></i> <br> <i class="fa fa-terminal"></i> <code>npm run build</code> <i class="fa fa-hourglass-start"></i> <i class="fa fa-hourglass-half"></i> <i class="fa fa-hourglass-end"></i> <i class="fa fa-beer"></i> <br> <i class="fa fa-magic"></i> 两个命令玩转 <code>Vue</code> <i class="fa fa-hand-o-left"></i> <i class="fa fa-smile-o"></i> <i class="fa fa-hand-peace-o"></i> <i class="fa fa-flag-checkered"></i> </div>'},function(t,e){t.exports='<div class=input-group> <div v-el:addon @dblclick=loadOptions(true) class="input-group-addon clickable unselectable" data-toggle=tooltip title=双击我刷新下拉框> <i class="fa fa-filter"></i> 筛选发布者: </div> <select2 :models.sync=authors$ :options=opts :config="{ multiple: true, placeholder: \'请选择发布者...\' }"> </select2> </div>'},function(t,e){t.exports='<form @submit.prevent class=p-10> <div class=form-group> <label for=title>标题</label> <input type=text v-model=msg.title id=title class=form-control placeholder=请输入标题... required> </div> <div class=form-group> <label for=content>内容</label> <textarea v-model=msg.content id=content required class=form-control rows=5 placeholder=请输入留言信息...></textarea> </div> <div class=clearfix> <div class=pull-right> <span v-show=allowToSubmit> <slot name=opt></slot> </span> <span v-show=!allowToSubmit> <button class=btn disabled=disabled> <i class="fa fa-pencil-square-o m-r-5"></i> 请完整填写表单 </button> </span> </div> </div> </form>'},function(t,e){t.exports='<div class=btn-group> <slot></slot> <template v-if=shouldShowOptBtn> <a v-if=editBtn v-link="`/msg/update/${msg.id}`" class="btn btn-default"> <i class="fa fa-pencil"></i> </a> <button type=button @click=handleDel class="btn btn-default"> <i class="fa fa-trash-o"></i> </button> </template> </div>';
},function(t,e){t.exports='<div> <msg-form :msg.sync=msg> <button slot=opt @click=handleSubmit type=button class="btn btn-default"> <i class="fa fa-check"></i> </button> </msg-form> </div>'},function(t,e){t.exports='<div class="panel panel-default"> <div class="panel-heading clearfix"> 标题：<strong>{{ msg.title }}</strong> <span class="badge pull-right"> {{ msg.ctime | dateTimeFormatter }} </span> <br> 发布者： <a v-link="`/msg?authors=${msg.author}`"> {{ msg.author }} </a> </div> <div class="panel-body min-h-160 max-h-300 overflow-fix"> <p class=lead>{{ msg.content }}</p> </div> <div class=clearfix> <div class="pull-right m-t-5"> <opt-btn-group :msg=msg :auto-jump=true> </opt-btn-group> </div> </div> </div>'},function(t,e){t.exports="<div> <router-view transition=fade transition-mode=out-in></router-view> </div>"},function(t,e){t.exports='<div> <div class=row> <div class="col-sm-6 col-md-5 col-lg-4"> <author-select></author-select> </div> <div v-if=$root.userData class="col-sm-6 col-md-7 col-lg-8 clearfix"> <a v-link="`/msg/add`" class="btn btn-default btn-sm pull-right"> <span class="fa-stack m-r-5"> <i class="fa fa-comment-o fa-stack-2x"></i> <i class="fa fa-plus fa-stack-1x"></i> </span> 添加留言信息 </a> </div> </div> <div class="row min-h-180"> <div class=col-sm-12> <ul class="list-group m-t-5"> <li v-for="msg in msgs" class="list-group-item clearfix" track-by=id> <h4 class=list-group-item-heading> <a v-link="`/msg/detail/${msg.id}`"> {{ msg.title | cutLongText }} </a> <small class=italic> by <a v-link="{ path: \'/msg\', query: { authors: msg.author } }"> {{ msg.author }} </a> </small> <span class="badge pull-right"> {{ msg.ctime | dateTimeFormatter }} </span> </h4> <small class=list-group-item-text> {{ msg.content | cutLongText 20 }} </small> <opt-btn-group class="pull-right btn-group-xs" :msg=msg> <a v-link="`/msg/detail/${msg.id}`" class="btn btn-default"> <i class="fa fa-search-plus"></i> </a> </opt-btn-group> </li> </ul> <h4 v-show=!total class="text-muted text-center line-h-150 italic"> （暂无留言信息） </h4> </div> </div> <div class=row> <div class="col-sm-6 nowrap"> 共 <span class=badge>{{ total }}</span> 条记录， <limit-select></limit-select> </div> <div class="col-sm-6 clearfix"> <pagination :total=total class=pull-right></pagination> </div> </div> </div>'},function(t,e){t.exports='<div> <msg-form :msg.sync=msg> <opt-btn-group slot=opt :msg=msg :edit-btn=false :auto-jump=true> <button @click=handleSubmit type=button class="btn btn-default"> <i class="fa fa-floppy-o"></i> </button> </opt-btn-group> </msg-form> </div>'},function(t,e,o){var n,a;o(153),n=o(91),a=o(283),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,o){var n,a;n=o(92),a=o(284),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,o){var n,a;n=o(93),a=o(285),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,o){var n,a;n=o(94),a=o(286),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,o){var n,a;o(154),n=o(95),a=o(287),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,o){var n,a;n=o(96),a=o(288),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,o){var n,a;o(155),n=o(97),a=o(289),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,o){var n,a;o(156),n=o(98),a=o(290),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,o){var n,a;o(157),n=o(99),a=o(291),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,o){var n,a;n=o(100),a=o(292),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,o){var n,a;o(158),a=o(293),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,o){var n,a;o(159),n=o(101),a=o(294),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,o){var n,a;n=o(104),a=o(297),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,o){var n,a;o(161),n=o(105),a=o(298),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,o){var n,a;a=o(299),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,o){var n,a;o(162),n=o(106),a=o(300),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,o){var n,a;n=o(107),a=o(301),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)}]);